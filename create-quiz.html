<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" />
    <title>Quiz Management | WorkDo Dash</title>
    <link rel="icon" href="assets/images/favicon.png" type="image/x-icon">
    <script src="assets/js/tailwind.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/swiper-bundle.min.css">
    <link rel="stylesheet" href="assets\css\all.min.css">
    <link rel="stylesheet" href="assets\css\styles.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary:'#F59E0B',
                    },
                    fontFamily: {
                        'inter': ['Inter', 'sans-serif']
                    }
                }
            }
        }
    </script>
</head>
<body class="font-inter bg-gray-50">
    <header class="sticky top-0 z-50 bg-white shadow-lg">
        <nav class="md:container w-full mx-auto px-4 py-4">
          <div class="flex items-center justify-between">
            <!-- Logo -->
            <div class="flex items-center space-x-3 shrink-0">
              <h1>
                <a
                  href="index.html"
                  class="block lg:max-w-[90px] max-w-[70px] w-full">
                  <img
                    src="assets/images/header-logo.png"
                    alt="logo"
                    class="w-full h-full object-scale-down"
                    loading="lazy" />
                </a>
              </h1>
            </div>
  
            <!-- Desktop Navigation -->
            <div
              class="hidden md:flex items-center xl:space-x-8 lg:space-x-6 space-x-4 menu-items">
              <a href="dashboard.html" class="text-gray-700 hover:text-primary transition-all duration-300 font-medium">Dashboard</a>
                    <a href="create-quiz.html" class="text-primary transition-all duration-300 font-medium">Create Quiz</a>
                    <a href="quiz-library.html" class="text-gray-700 hover:text-primary transition-all duration-300 font-medium">Quiz Library</a>
            </div>
            <div class="header-right-col hidden md:flex lg:space-x-6 space-x-4 menu-items">
              <div class="relative inline-block text-left h-auto" id="language-dropdown">
                      <button data-dropdown-toggle="language" type="button" class="inline-flex items-center h-full rounded-lg justify-center w-full text-black border border-black lg:px-4 px-3 py-2 bg-white text-sm font-medium  focus:outline-none focus:ring- focus:ring-offset-2 focus:ring-primary">
                              English
                      <i class="fas fa-chevron-down ml-2"></i>
                      </button>
  
                      <div data-dropdown-menu="language" class="origin-top-right absolute right-0 mt-2 w-full shadow-lg rounded-lg border-black border overflow-hidden bg-white ring-1 ring-black ring-opacity-5 focus:outline-none hidden transition-all transform duration-100">
                          <a href="javascript:void(0)" class="block px-4 py-2 text-gray-700 text-sm hover:text-black transition-all hover:bg-gray-100">English</a>
                          <a href="javascript:void(0)" class="block px-4 py-2 text-gray-700 text-sm hover:text-black transition-all hover:bg-gray-100">Español</a>
                          <a href="javascript:void(0)" class="block px-4 py-2 text-gray-700 text-sm hover:text-black transition-all hover:bg-gray-100">Français</a>
                          <a href="javascript:void(0)" class="block px-4 py-2 text-gray-700 text-sm hover:text-black transition-all hover:bg-gray-100">Deutsch</a>
                      </div>
                  </div>
            </div>
  
            <!-- Mobile Menu Button -->
            <button class="md:hidden text-dark text-xl" id="mobileMenuBtn">
              <i class="fas fa-bars"></i>
            </button>
          </div>
  
          <!-- Mobile Navigation -->
          <div class="md:hidden mt-4 hidden border-t pt-4" id="mobileMenu">
            <div class="flex gap-4 mb-4">
               <div class="relative inline-block text-left text-sm">
                      <button data-dropdown-toggle="mob-language" type="button" class="w-full h-full rounded-lg flex items-center justify-between px-3 py-2 border border-black">
                            English
                      <i class="fas fa-chevron-down ml-2"></i>
                      </button>
  
                      <div data-dropdown-menu="mob-language" class="w-full absolute left-0 mt-2 py-2 min-w-24 z-10 rounded-lg bg-white border border-black shadow-lg hidden">
                          <a href="javascript:void(0)" class="block px-4 py-2 text-black hover:text-dark-900 hover:bg-gray-100">English</a>
                          <a href="javascript:void(0)" class="block px-4 py-2 text-black hover:text-dark-900 hover:bg-gray-100">Español</a>
                          <a href="javascript:void(0)" class="block px-4 py-2 text-black hover:text-dark-900 hover:bg-gray-100">Français</a>
                          <a href="javascript:void(0)" class="block px-4 py-2 text-black hover:text-dark-900 hover:bg-gray-100">Deutsch</a>
                      </div>
                  </div>
            </div>
            <div class="flex flex-col">
                <a href="dashboard.html" class="block pb-2 text-gray-700 hover:text-primary transition-all duration-300">Dashboard</a>
                <a href="create-quiz.html" class="block py-2 text-primary transition-all duration-300">Create Quiz</a>
                <a href="quiz-library.html" class="block py-2 text-gray-700 hover:text-primary transition-all duration-300">Quiz Library</a>
            </div>
        </div>
        </nav>
    </header>

    <!-- Header -->
    <section class="lg:py-20 py-10 bg-gradient-to-br from-primary/5 to-primary/5 relative z-10 overflow-hidden">
        <div class="round-blob bg-primary opacity-10 -z-10 lg:-top-36 -top-16 -left-20 ld:-left-30 rotate-animation"></div>
        <div class="round-blob bg-primary opacity-10 -z-10 lg:-bottom-40 md:-bottom-36 -bottom-24 -right-10 rotate-animation animation-delay-3000"></div>
        <!-- Content Container -->
        <div class="relative md:container w-full mx-auto px-4 text-center">
            <h2 class="sm:text-3xl text-2xl lg:text-4xl font-bold text-gray-900 sm:mb-4 mb-3">Create New Quiz</h2>
            <p class="text-gray-600 mt-2">Build an engaging quiz with multiple question types</p>
        </div>
    </section>

    <!-- Quiz Creation Form -->
    <section class="lg:py-20 py-10 relative">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <form id="quiz-form" class="md:space-y-8 space-y-6">
                <!-- Quiz Details -->
                <div class="bg-white rounded-xl md:p-6 p-4 shadow-lg">
                    <h2 class="text-xl font-bold text-gray-900 md:mb-6 mb-4">Quiz Details</h2>
                    <div class="grid sm:grid-cols-2 gap-4">
                        <div>
                            <label for="quiz-title" class="block md:text-[16px] text-sm font-medium text-gray-700 mb-2">Quiz Title *</label>
                            <input type="text" id="quiz-title" name="title" required class="w-full px-4 py-3 border border-gray-300 rounded-lg text-sm" placeholder="Enter quiz title">
                        </div>
                        <div>
                            <label for="quiz-category" class="block md:text-[16px] text-sm font-medium text-gray-700 mb-2">Category</label>
                            <select id="quiz-category" name="category" class="w-full px-4 py-3 text-sm border input-select border-gray-300 rounded-lg">
                                <option value="">Select category</option>
                                <option value="education">Education</option>
                                <option value="science">Science</option>
                                <option value="history">History</option>
                                <option value="technology">Technology</option>
                                <option value="sports">Sports</option>
                                <option value="entertainment">Entertainment</option>
                                <option value="general">General Knowledge</option>
                            </select>
                        </div>
                        <div class="sm:col-span-2">
                            <label for="quiz-description" class="block md:text-[16px] text-sm font-medium text-gray-700 mb-2">Description</label>
                            <textarea id="quiz-description" name="description" rows="3" class="w-full px-4 py-3 border border-gray-300 rounded-lg text-sm" placeholder="Brief description of your quiz"></textarea>
                        </div>
                        <div>
                            <label for="quiz-duration" class="block md:text-[16px] text-sm font-medium text-gray-700 mb-2">Time Limit (minutes)</label>
                            <input type="number" id="quiz-duration" name="duration" min="1" max="180" class="w-full px-4 py-3 border border-gray-300 rounded-lg text-sm" placeholder="Optional time limit">
                        </div>
                        <div>
                            <label for="quiz-difficulty" class="block md:text-[16px] text-sm font-medium text-gray-700 mb-2">Difficulty Level</label>
                            <select id="quiz-difficulty" name="difficulty" class="w-full text-sm input-select px-4 py-3 border border-gray-300 rounded-lg">
                                <option value="easy">Easy</option>
                                <option value="medium" selected>Medium</option>
                                <option value="hard">Hard</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Questions Section -->
                <div class="bg-white rounded-xl md:p-6 p-4 shadow-lg">
                    <div class="flex flex-wrap gap-y-3 items-center justify-between md:mb-6 mb-4">
                        <h2 class="text-xl font-bold text-gray-900">Questions</h2>
                        <div class="flex flex-wrap sm:gap-0 gap-3 sm:space-x-3">
                            <button type="button" id="add-multiple-choice" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary-dark transition-colors duration-200 text-sm">
                                <i class="fa-solid fa-plus mr-1"></i> Multiple Choice
                            </button>
                            <button type="button" id="add-true-false" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors duration-200 text-sm">
                                <i class="fa-solid fa-plus mr-1"></i> True/False
                            </button>
                            <button type="button" id="add-text-input" class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors duration-200 text-sm">
                                <i class="fa-solid fa-plus mr-1"></i> Text Input
                            </button>
                        </div>
                    </div>
                    
                    <div id="questions-container" class="space-y-6">
                        <!-- Questions will be added here dynamically -->
                        <div class="text-center py-12 text-gray-500 border-2 border-dashed border-gray-300 rounded-lg">
                            <svg class="w-16 h-16 mx-auto mb-4 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            <p class="text-lg font-medium mb-2">No Questions Added Yet</p>
                            <p>Click the buttons above to add your first question</p>
                        </div>
                    </div>
                </div>

                <!-- Form Actions -->
                <div class="flex flex-row gap-4 justify-center">
                    <button type="submit" class="btn-primary">
                        Save Quiz
                    </button>
                </div>
            </form>
            <div id="quiz-preview" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                <div class="bg-white rounded-xl shadow-lg p-6 max-w-3xl w-full h-[80vh] overflow-y-auto relative">
                  <button id="close-preview" class="absolute top-2 right-2 text-white bg-red-500 hover:bg-red-600 px-3 py-1 rounded">×</button>
                  <div id="quiz-preview-content"></div>
                </div>
              </div>
        </div>
        <div id="success-notification" class="hidden mt-6 absolute top-[20px] right-[20px] w-fit bg-green-100 border border-green-300 text-green-800 px-4 py-3 rounded-lg shadow-md text-center">
            ✅ Your quiz was successfully saved!
        </div>
    </section>

    <!-- Preview Modal -->
    <div id="preview-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-xl max-w-2xl w-full mx-4 overflow-hidden">
            <div class="max-h-[90vh] overflow-y-auto md:p-6 p-4">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-xl font-bold text-gray-900">Quiz Preview</h3>
                    <button id="close-preview" class="text-gray-500 hover:text-gray-700">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                <div id="preview-content">
                </div>
            </div>
        </div>
    </div>

    <footer class="border-t border-gray-800 bg-gray-800 lg:pt-16 pt-10">
        <div class="md:container w-full mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 md:gap-10 sm:gap-8 gap-6">
                <!-- Branding with animated quiz icon -->
                <div class="space-y-5">
                    <div class="flex items-center space-x-2 mb-4">
                        <img src="assets/images/footer-logo.png" loading="lazy" alt="CleanPro Logo" class="h-10 w-[90px] object-scale-down">
                    </div>
                    <p class="text-sm text-white">
                        Transform learning with interactive quizzes. Create, share, and analyze results effortlessly.
                    </p>
                    <div class="flex md:space-x-4 space-x-2">
                        <a href="javascript:" class="social-icon md:w-10 md:h-10 w-8 h-8 flex items-center justify-center bg-gray-100 p-2 rounded-lg text-gray-800 hover:bg-primary hover:text-white transition-all duration-300">
                            <i class="fab fa-x-twitter"></i>
                        </a>
                        <a href="javascript:" class="social-icon md:w-10 md:h-10 w-8 h-8 flex items-center justify-center bg-gray-100 p-2 rounded-lg text-gray-800 hover:bg-primary hover:text-white transition-all duration-300">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="javascript:" class="social-icon md:w-10 md:h-10 w-8 h-8 flex items-center justify-center bg-gray-100 p-2 rounded-lg text-gray-800 hover:bg-primary hover:text-white transition-all duration-300">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="javascript:" class="social-icon md:w-10 md:h-10 w-8 h-8 flex items-center justify-center bg-gray-100 p-2 rounded-lg text-gray-800 hover:bg-primary hover:text-white transition-all duration-300">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                    </div>
                </div>

                <!-- Quick Links with amber accents -->
                <div>
                    <h3 class="text-lg font-semibold mb-4 text-white flex items-center">
                        <span class="w-2 h-2 bg-primary rounded-full mr-2"></span>
                        Navigation
                    </h3>
                    <ul class="space-y-3">
                        <li><a href="dashboard.html" class="nav-link text-sm flex items-center text-white transition-all duration-300">
                            <i class="fas fa-chevron-right text-xs mr-2"></i> Dashboard
                        </a></li>
                        <li><a href="create-quiz.html" class="nav-link text-sm flex items-center text-white transition-all duration-300">
                            <i class="fas fa-chevron-right text-xs mr-2"></i> Quiz Builder
                        </a></li>
                        <li><a href="javascript:" class="nav-link text-sm flex items-center text-white transition-all duration-300">
                            <i class="fas fa-chevron-right text-xs mr-2"></i> Analytics
                        </a></li>
                        <li><a href="javascript:" class="nav-link text-sm flex items-center text-white transition-all duration-300">
                            <i class="fas fa-chevron-right text-xs mr-2"></i> Templates
                        </a></li>
                    </ul>
                </div>

                <!-- Popular Quiz Categories -->
                <div>
                    <h3 class="text-lg font-semibold mb-4 text-white flex items-center">
                        <span class="w-2 h-2 bg-primary rounded-full mr-2"></span>
                        Categories
                    </h3>
                    <ul class="space-y-3">
                        <li><a href="javascript:" class="nav-link text-sm flex items-center text-white transition-all duration-300">
                            <i class="fas fa-chevron-right text-xs mr-2"></i> Science
                        </a></li>
                        <li><a href="javascript:" class="nav-link text-sm flex items-center text-white transition-all duration-300">
                            <i class="fas fa-chevron-right text-xs mr-2"></i> History
                        </a></li>
                        <li><a href="javascript:" class="nav-link text-sm flex items-center text-white transition-all duration-300">
                            <i class="fas fa-chevron-right text-xs mr-2"></i>  Math
                        </a></li>
                        <li><a href="javascript:" class="nav-link text-sm flex items-center text-white transition-all duration-300">
                            <i class="fas fa-chevron-right text-xs mr-2"></i> Languages
                        </a></li>
                    </ul>
                </div>

                <!-- Newsletter Subscription -->
                <div>
                    <h3 class="text-lg font-semibold mb-4 text-white flex items-center">
                        <span class="w-2 h-2 bg-primary rounded-full mr-2"></span>
                        Stay Updated
                    </h3>
                    <p class="text-sm mb-4 text-white">
                        Subscribe to get tips and new quiz templates weekly
                    </p>
                    <form id="footer-newsletter" class="min-w-[217px]">
                        <div class="flex">
                            <input type="email" placeholder="Your mail address" required="" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-l-xl text-white text-sm focus:outline-none focus:bg-white/10 transition-colors">
                            <button type="submit" class="px-4 py-2 text-sm rounded-r-lg bg-primary text-white">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
            <div class="lg:mt-10 mt-8 relative border-t border-gray-400 md:py-6 py-4 text-center">
                <p class="text-xs  text-white">
                    &copy; 2025 Quiz Management. Crafted with <i class="fas fa-heart text-primary-500 mx-0.5"></i> for educators.
                </p>
            </div>
        </div>
    </footer>
    <script src="assets/js/swiper-bundle.min.js"></script>
    <script src="assets/js/main.js"></script>
    <script>
    let quizData = {
        title: '',
        category: '',
        description: '',
        duration: 0,
        difficulty: '',
        questions: []
    };
    
    let editingQuizId = null;
    
    document.addEventListener('DOMContentLoaded', function () {
        editingQuizId = new URLSearchParams(window.location.search).get('edit');
    
        if (editingQuizId) {
            loadQuizForEditing(editingQuizId);
            const heading = document.querySelector('h1');
            const submitButton = document.querySelector('button[type="submit"]');
            if (heading) heading.textContent = 'Edit Quiz';
            if (submitButton) submitButton.textContent = 'Update Quiz';
        }
    
        const addMC = document.getElementById('add-multiple-choice');
        const addTF = document.getElementById('add-true-false');
        const addTI = document.getElementById('add-text-input');
        const quizForm = document.getElementById('quiz-form');
    
        if (addMC) addMC.addEventListener('click', () => addQuestion('multiple-choice'));
        if (addTF) addTF.addEventListener('click', () => addQuestion('true-false'));
        if (addTI) addTI.addEventListener('click', () => addQuestion('text-input'));
        if (quizForm) quizForm.addEventListener('submit', saveQuiz);
    
        // Close preview modal button listener
        const previewModalCloseBtns = document.querySelectorAll('#preview-modal button, #quiz-preview button');
        previewModalCloseBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const previewModal = document.getElementById('preview-modal');
                if (previewModal) previewModal.classList.add('hidden');
                location.reload();
            });
        });
    });
    
    function addQuestion(type, data = {}) {
        const container = document.getElementById('questions-container');
        if (!container) return;
    
        // Remove placeholder message if present
        const placeholder = container.querySelector('.text-center');
        if (placeholder) placeholder.remove();
    
        const questionWrapper = document.createElement('div');
        questionWrapper.classList.add('question-wrapper', 'mb-4', 'p-4', 'border', 'rounded-lg', 'shadow');
        questionWrapper.innerHTML = `
            <label class="block mb-2">Question:</label>
            <input type="text" class="question-text w-full p-2 mb-2 border rounded-lg" value="${data.question || ''}" />
    
            ${type === 'multiple-choice' ? getMCOptionsHTML(data.options || [], data.correct) : ''}
            ${type === 'true-false' ? getTFOptionsHTML(data.correct || 'true') : ''}
            ${type === 'text-input' ? getTextInputAnswerHTML(data.correct || '') : ''}
    
            <button type="button" class="remove-question mt-2 bg-red-500 text-white px-3 py-2 rounded-lg text-sm">Remove</button>
        `;
    
        questionWrapper.dataset.type = type;
        container.appendChild(questionWrapper);
    
        questionWrapper.querySelector('.remove-question').addEventListener('click', () => {
            container.removeChild(questionWrapper);
    
            // If no questions left, show placeholder message again
            if (container.children.length === 0) {
                container.innerHTML = `
                    <div class="text-center py-12 text-gray-500 border-2 border-dashed border-gray-300 rounded-lg">
                        <svg class="w-16 h-16 mx-auto mb-4 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        <p class="text-lg font-medium mb-2">No Questions Added Yet</p>
                        <p>Click the buttons above to add your first question</p>
                    </div>
                `;
            }
        });
    }
    
    function getMCOptionsHTML(options = [], correctIndex = 0) {
        return `
            <div class="options">
                <label class="block mb-2">Options (mark the correct one):</label>
                ${[0, 1, 2, 3].map(i => `
                    <input type="text" class="option w-full p-2 mb-2 border rounded-lg text-sm" value="${options[i] || ''}" placeholder="Option ${i + 1}" />
                `).join('')}
                <label class="block mb-2">Correct Option Index (0-3):</label>
                <input type="number" class="correct-index w-full p-2 mb-2 border rounded-lg" min="0" max="3" value="${correctIndex || 0}" />
            </div>
        `;
    }
    
    function getTFOptionsHTML(correct = 'true') {
        return `
            <label class="block mb-2">Correct Answer:</label>
            <select class="tf-correct w-full p-2 mb-2 border rounded-lg input-select">
                <option value="true" ${correct === 'true' ? 'selected' : ''}>True</option>
                <option value="false" ${correct === 'false' ? 'selected' : ''}>False</option>
            </select>
        `;
    }
    
    function getTextInputAnswerHTML(correct = '') {
        return `
            <label class="block mb-2">Correct Answer:</label>
            <input type="text" class="text-correct w-full p-2 mb-2 border rounded-lg" value="${correct}" />
        `;
    }
    
    function saveQuiz(e) {
        e.preventDefault();
    
        const form = document.getElementById('quiz-form');
        if (!form) return;
    
        // Collect quiz details
        quizData.title = form.title.value.trim();
        quizData.category = form.category.value.trim();
        quizData.description = form.description.value.trim();
        quizData.duration = parseInt(form.duration.value) || 0;
        quizData.difficulty = form.difficulty.value;
    
        quizData.questions = [];
    
        const questionWrappers = document.querySelectorAll('.question-wrapper');
        questionWrappers.forEach(wrapper => {
            const type = wrapper.dataset.type;
            const question = wrapper.querySelector('.question-text').value.trim();
            let questionData = { type, question };
    
            if (type === 'multiple-choice') {
                const options = [...wrapper.querySelectorAll('.option')].map(input => input.value.trim());
                const correct = parseInt(wrapper.querySelector('.correct-index').value);
                questionData.options = options;
                questionData.correct = correct;
            } else if (type === 'true-false') {
                const correct = wrapper.querySelector('.tf-correct').value;
                questionData.correct = correct;
            } else if (type === 'text-input') {
                const correct = wrapper.querySelector('.text-correct').value.trim();
                questionData.correct = correct;
            }
    
            quizData.questions.push(questionData);
        });
    
        // Show preview modal with quiz data
        const previewContent = document.getElementById('preview-content');
        if (!previewContent) return;
    
        previewContent.innerHTML = generateQuizPreview(quizData);
    
        const previewModal = document.getElementById('preview-modal');
        if (previewModal) {
            previewModal.classList.remove('hidden');
            previewModal.classList.add('flex');
        }
    }
    
    function loadQuizForEditing(id) {
        const quizzes = JSON.parse(localStorage.getItem('quizzes')) || [];
        const quiz = quizzes.find(q => q.id == id);
        if (!quiz) return;
    
        const form = document.getElementById('quiz-form');
        if (!form) return;
    
        form.title.value = quiz.title;
        form.category.value = quiz.category;
        form.description.value = quiz.description;
        form.duration.value = quiz.duration;
        form.difficulty.value = quiz.difficulty;
    
        quiz.questions.forEach(q => addQuestion(q.type, q));
    }
    
    function generateQuizPreview(quiz) {
        let html = `
            <h2 class="text-2xl font-bold mb-4">${quiz.title}</h2>
            <p class="mb-2"><strong>Category:</strong> ${quiz.category || 'N/A'}</p>
            <p class="mb-2"><strong>Description:</strong> ${quiz.description || 'N/A'}</p>
            <p class="mb-2"><strong>Duration:</strong> ${quiz.duration > 0 ? quiz.duration + ' minutes' : 'No time limit'}</p>
            <p class="mb-6"><strong>Difficulty:</strong> ${quiz.difficulty}</p>
                
            <div class="md:space-y-6 space-y-4 quiz-question">
        `;
    
        quiz.questions.forEach((q, idx) => {
            html += `<div class="border p-4 rounded-lg shadow-sm">
                <p class="font-semibold mb-2">Q${idx + 1}: ${q.question}</p>
            `;
    
            if (q.type === 'multiple-choice') {
                html += `<ul class="list-disc list-inside">`;
                q.options.forEach((opt, i) => {
                    let isCorrect = (i === q.correct) ? 'font-bold text-green-600' : '';
                    html += `<li class="${isCorrect}">${opt || '(empty)'}</li>`;
                });
                html += `</ul>`;
            } else if (q.type === 'true-false') {
                html += `<p><strong>Correct Answer:</strong> ${q.correct}</p>`;
            } else if (q.type === 'text-input') {
                html += `<p><strong>Correct Answer:</strong> ${q.correct || '(empty)'}</p>`;
            }
    
            html += `</div>`;
        });
    
        html += `</div>`;
    
        return html;
    }
</script>    
</body>
</html>
